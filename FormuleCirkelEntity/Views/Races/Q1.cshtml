@model IEnumerable<FormuleCirkelEntity.Models.Qualification>

@{
    ViewData["Title"] = "Qualification";
}

<h1>Q1 in </h1>

<hr />
<table class="table table-striped table-dark">
    <thead>
        <tr>
            <th>
                Pos.
            </th>
            <th>
                Team
            </th>
            <th>
                Coureur
            </th>
            <th>
                Q1
            </th>
        </tr>
    </thead>
    <tbody id="q1table">
        </tbody>
    </table>
<button id="generate">Start Q1!</button>

<a asp-action="Q2" class="btn btn-secondary">Q2</a>

<script>
    $(document).ready(function () {
        $('#generate').click(function () {
            $.ajax({
                url: "/Races/GetRacingDrivers",
                type: "GET",
                success: function (drivers) {
                    $.each(drivers, function (index, driver) {
                        var row = "<tr><td>" + driver.position + "</td><td>" + driver.teamName + "</td><td>"
                            + driver.driverName + "</td><td>" + driver.score + "</td></tr>";
                        $("#q1table").append(row);
                    });
                    $("#generate").hide();
                }
            });
        });
    });
</script>